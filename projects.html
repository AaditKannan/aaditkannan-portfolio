<!DOCTYPE html>
<html lang="en">
<head>
  <!-- RB2B Tracking -->
  <script>!function(key) {if (window.reb2b) return;window.reb2b = {loaded: true};var s = document.createElement("script");s.async = true;s.src = "https://ddwl4m2hdecbv.cloudfront.net/b/" + key + "/" + key + ".js.gz";document.getElementsByTagName("script")[0].parentNode.insertBefore(s, document.getElementsByTagName("script")[0]);}("0OV0VHYEV56Z");</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  
  <title>Aadit Kannan | Projects</title>
  <meta name="title" content="Aadit Kannan | Projects">
  <meta name="description" content="Explore Aadit Kannan's engineering projects - from Formula Electric battery systems to robotics and web development.">
  <meta name="author" content="Aadit Kannan">
  <link rel="canonical" href="https://aaditkannan.com/projects">
  
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://aaditkannan.com/projects">
  <meta property="og:title" content="Aadit Kannan | Projects">
  <meta property="og:image" content="https://aaditkannan.com/assets/photo.jpg">
  
  <link rel="icon" type="image/png" href="/assets/newstfavicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/newstfavicon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="preload" href="/assets/fonts/HvDTrial_Brandon_Grotesque_regular-BF64a625c9311e1.otf" as="font" type="font/opentype" crossorigin>
  <link rel="preload" href="/assets/fonts/HvDTrial_Brandon_Grotesque_medium-BF64a625c84a521.otf" as="font" type="font/opentype" crossorigin>
  <link rel="preload" href="/assets/fonts/HvDTrial_Brandon_Grotesque_bold-BF64a625c9151d5.otf" as="font" type="font/opentype" crossorigin>
  <style>
    @font-face {
      font-family: 'Brandon Grotesque';
      src: url('/assets/fonts/HvDTrial_Brandon_Grotesque_regular-BF64a625c9311e1.otf') format('opentype');
      font-weight: 400; font-style: normal; font-display: swap;
    }
    @font-face {
      font-family: 'Brandon Grotesque';
      src: url('/assets/fonts/HvDTrial_Brandon_Grotesque_medium-BF64a625c84a521.otf') format('opentype');
      font-weight: 500; font-style: normal; font-display: swap;
    }
    @font-face {
      font-family: 'Brandon Grotesque';
      src: url('/assets/fonts/HvDTrial_Brandon_Grotesque_bold-BF64a625c9151d5.otf') format('opentype');
      font-weight: 700; font-style: normal; font-display: swap;
    }
  </style>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg: #0a0a0a;
      --text: #fff;
      --text-dim: #888;
      --text-muted: #555;
      --border: rgba(255,255,255,0.08);
      --border-light: rgba(255,255,255,0.15);
      --nav-bg: rgba(10, 10, 10, 0.95);
      --nav-link: rgba(255, 255, 255, 0.7);
      --nav-link-hover: #FFFFFF;
      --nav-border-hover: rgba(255, 255, 255, 0.5);
      --glow-center: rgba(255, 255, 255, 0.04);
      --glow-mid: rgba(255, 255, 255, 0.015);
      --card-bg: rgba(255,255,255,0.02);
    }

    [data-theme="light"] {
      --bg: #f5f2ee;
      --text: #0f172a;
      --text-dim: #4a5568;
      --text-muted: #64748b;
      --border: rgba(0,0,0,0.1);
      --border-light: rgba(0,0,0,0.22);
      --nav-bg: rgba(245, 242, 238, 0.95);
      --nav-link: rgba(0, 0, 0, 0.65);
      --nav-link-hover: #0f172a;
      --nav-border-hover: rgba(0, 0, 0, 0.4);
      --glow-center: rgba(0, 0, 0, 0.06);
      --glow-mid: rgba(0, 0, 0, 0.025);
      --card-bg: rgba(0,0,0,0.03);
    }

    /* Smooth theme transition */
    html.theme-transition,
    html.theme-transition *,
    html.theme-transition *::before,
    html.theme-transition *::after {
      transition: background-color 0.35s ease, color 0.35s ease, border-color 0.35s ease, fill 0.35s ease, box-shadow 0.35s ease !important;
    }

    html {
      scroll-behavior: smooth;
      overflow-y: scroll;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    html::-webkit-scrollbar { display: none; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      font-weight: 400;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
      overflow-y: scroll;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    body::-webkit-scrollbar { display: none; }

    /* Theme Toggle */
    .theme-toggle {
      position: fixed;
      top: 28px;
      right: 40px;
      z-index: 1002;
      background: none;
      border: none;
      cursor: pointer;
      color: var(--text-muted);
      padding: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: color 0.25s ease;
    }

    .theme-toggle:hover { color: var(--text); }

    .theme-toggle svg {
      width: 18px;
      height: 18px;
      fill: none;
      stroke: currentColor;
      stroke-width: 1.5;
    }

    .theme-toggle .icon-sun { display: none; }
    .theme-toggle .icon-moon { display: block; }

    [data-theme="light"] .theme-toggle .icon-sun { display: block; }
    [data-theme="light"] .theme-toggle .icon-moon { display: none; }

    /* Cursor Glow */
    .cursor-glow {
      position: fixed;
      width: 600px;
      height: 600px;
      border-radius: 50%;
      pointer-events: none;
      z-index: 1;
      background: radial-gradient(circle, var(--glow-center) 0%, var(--glow-mid) 40%, transparent 70%);
      transform: translate(-50%, -50%);
      transition: opacity 0.3s ease;
      opacity: 0;
    }
    .cursor-glow.visible { opacity: 1; }

    @media (max-width: 768px) {
      .cursor-glow { display: none; }
    }

    /* Nav */
    .nav-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1001;
      padding: 24px 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 40px;
      background: var(--nav-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      height: 80px;
      box-sizing: border-box;
    }

    .nav-link {
      color: var(--nav-link);
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
      border-bottom: 1px solid transparent;
      padding: 8px 0;
      transition: all 0.3s ease;
      line-height: 1;
    }

    .nav-link:hover {
      color: var(--nav-link-hover);
      border-bottom-color: var(--nav-border-hover);
    }
    .nav-link.active { color: var(--nav-link-hover); border-bottom-color: var(--nav-link-hover); }

    /* Main content */
    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 140px 40px 100px 40px;
      position: relative;
    }

    .page-header {
      margin-bottom: 32px;
      position: relative;
    }

    /* Filter Bar */
    .filter-bar {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 40px;
    }

    .filter-row {
      display: flex;
      justify-content: flex-start;
      gap: 32px;
      flex-wrap: wrap;
      align-items: center;
    }

    .filter-group {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .filter-label {
      font-size: 10px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--text-muted);
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
      margin-right: 8px;
    }

    .filter-btn {
      padding: 8px 16px;
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text-dim);
      font-size: 11px;
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .filter-btn:hover {
      border-color: var(--border-light);
      color: #fff;
    }

    .filter-btn.active {
      background: rgba(255,255,255,0.1);
      border-color: rgba(255,255,255,0.3);
      color: #fff;
    }

    .filter-divider {
      width: 1px;
      height: 24px;
      background: var(--border);
      margin: 0 8px;
    }

    @media (max-width: 768px) {
      /* Mobile font: Inter instead of monospace */
      body, .nav-link, .filter-btn, .project-title, .project-subtitle,
      .project-description, .project-meta, .detail-title, .detail-body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
      }

      .filter-bar {
        display: none;
      }
      .filter-divider {
        display: none;
      }
      .filter-btn {
        padding: 6px 12px;
        font-size: 10px;
      }
    }

    .page-title {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-size: clamp(42px, 7vw, 56px);
      font-weight: 700;
      color: var(--text);
      letter-spacing: -0.02em;
      line-height: 1.1;
      margin: 0;
      transition: opacity 0.3s;
    }

    /* Project grid - always 3 columns */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    }

    /* Smooth view transitions */
    .projects-grid.view-transitioning .project-card {
      opacity: 0;
      transform: scale(0.95);
    }

    .project-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      cursor: pointer;
      overflow: hidden;
      transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      opacity: 1;
      transform: scale(1);
      grid-column: span 1;
    }

    .project-card:hover {
      border-color: var(--border-light);
      background: var(--card-bg);
      box-shadow:
        0 0 20px rgba(255,255,255,0.1),
        0 0 40px rgba(255,255,255,0.05),
        inset 0 0 30px rgba(255,255,255,0.02);
      animation: cardGlow 2s ease-in-out infinite;
    }

    [data-theme="light"] .project-card:hover {
      box-shadow:
        0 4px 20px rgba(0,0,0,0.08),
        0 1px 6px rgba(0,0,0,0.04);
      animation: none;
    }

    @keyframes cardGlow {
      0%, 100% {
        box-shadow: 
          0 0 20px rgba(255,255,255,0.1),
          0 0 40px rgba(255,255,255,0.05),
          inset 0 0 30px rgba(255,255,255,0.02);
      }
      50% {
        box-shadow: 
          0 0 30px rgba(255,255,255,0.15),
          0 0 60px rgba(255,255,255,0.08),
          inset 0 0 40px rgba(255,255,255,0.03);
      }
    }

    .project-image {
      width: 100%;
      aspect-ratio: 16/10;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 1px solid var(--border);
      overflow: hidden;
    }

    .project-image img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      background: #000;
      transition: transform 0.3s ease;
    }

    .project-card:hover .project-image img {
      transform: scale(1.03);
    }

    /* Ramesh Lab - light grey background */
    .project-card[data-id="ramesh-lab"] .project-image {
      background: #e8e8e8 !important;
    }

    .project-card[data-id="ramesh-lab"] .project-image img {
      background: #e8e8e8 !important;
    }

    /* Deja Vu INTO THE DEEP - match purple background */
    .project-card[data-id="dejavu-2024-25"] .project-image {
      background: #d0c0cf !important;
    }

    .project-card[data-id="dejavu-2024-25"] .project-image img {
      object-fit: cover;
      transform: scale(1.0);
      background: #d0c0cf !important;
    }

    .project-card[data-id="dejavu-2024-25"]:hover .project-image img {
      transform: scale(1.03);
    }

    /* Deja Vu CENTERSTAGE - light grey background */
    .project-card[data-id="dejavu-2023-24"] .project-image {
      background: #e8e8e8 !important;
    }

    /* Zenith POWERPLAY - light grey background, centered */
    .project-card[data-id="zenith-2022-23"] .project-image {
      background: #e8e8e8 !important;
    }

    .project-card[data-id="zenith-2022-23"] .project-image img {
      object-fit: contain;
      object-position: center;
      transform: scale(0.95);
      background: #e8e8e8;
    }

    .project-card[data-id="zenith-2022-23"]:hover .project-image img {
      transform: scale(0.98);
    }

    /* Zenith FREIGHT FRENZY - light grey background */
    .project-card[data-id="zenith-2021-22"] .project-image {
      background: #e8e8e8 !important;
    }

    .project-card[data-id="zenith-2021-22"] .project-image img {
      object-fit: contain;
      transform: scale(1.1);
      background: #e8e8e8 !important;
    }

    .project-card[data-id="zenith-2021-22"]:hover .project-image img {
      transform: scale(1.13);
    }

    /* Deja Vu CENTERSTAGE - zoom in and center, shift robot right and down */
    .project-card[data-id="dejavu-2023-24"] .project-image img {
      object-fit: contain;
      object-position: 60% 40%;
      transform: scale(1.3);
      background: #e8e8e8 !important;
    }

    .project-card[data-id="dejavu-2023-24"]:hover .project-image img {
      transform: scale(1.33);
    }

    /* Construction Acclimation - zoom in and center */
    .project-card[data-id="construction-acclimation"] .project-image img {
      object-fit: cover;
      object-position: center;
      transform: scale(1.3);
    }

    .project-card[data-id="construction-acclimation"]:hover .project-image img {
      transform: scale(1.33);
    }

    /* Serenity FREIGHT FRENZY - light grey background, move down and zoom */
    .project-card[data-id="serenity-2021-22"] .project-image {
      background: #e8e8e8 !important;
    }

    .project-card[data-id="serenity-2021-22"] .project-image img {
      object-fit: contain;
      object-position: center 60%;
      transform: scale(1.2);
      background: #e8e8e8 !important;
    }

    .project-card[data-id="serenity-2021-22"]:hover .project-image img {
      transform: scale(1.23);
    }

    /* Atlas SMR - show more UI, no black bars */
    .project-card[data-id="atlas-smr"] .project-image img {
      object-fit: cover;
      object-position: left center;
      transform: scale(1.0);
    }

    .project-card[data-id="atlas-smr"]:hover .project-image img {
      transform: scale(1.03);
    }

    /* Formula Electric - zoom in to remove black bars on CAD render */
    .project-card[data-id="formula-electric"] .project-image img {
      object-fit: cover;
      object-position: center center;
      transform: scale(1.0);
    }

    .project-card[data-id="formula-electric"]:hover .project-image img {
      transform: scale(1.03);
    }

    /* Pear Volunteering - zoom in from center */
    .project-card[data-id="pear-volunteering"] .project-image img {
      object-fit: cover;
      object-position: center center;
      transform: scale(1.3);
    }

    .project-card[data-id="pear-volunteering"]:hover .project-image img {
      transform: scale(1.33);
    }

    /* Inventry - zoom in to remove black bars */
    .project-card[data-id="inventry"] .project-image img {
      object-fit: cover;
      object-position: center center;
      transform: scale(1.2);
    }

    .project-card[data-id="inventry"]:hover .project-image img {
      transform: scale(1.23);
    }

    .project-image-placeholder {
      color: var(--text-muted);
      font-size: 10px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
    }

    .project-content {
      padding: 24px;
    }

    .project-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .project-category {
      font-size: 10px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--text-dim);
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
    }

    .project-date {
      font-size: 12px;
      color: var(--text-muted);
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
    }

    .project-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
      letter-spacing: -0.01em;
    }

    .project-excerpt {
      font-size: 14px;
      color: var(--text-dim);
      line-height: 1.6;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* Featured styling (but not full width anymore) */
    .project-card.featured .project-title {
      font-size: 20px;
    }

    /* Status dot */
    .status-dot {
      display: inline-block;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #22c55e;
      margin-right: 6px;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }

    /* ========== DETAIL VIEW ========== */
    
    /* When detail view is active */
    body.detail-active {
      overflow: hidden;
    }

    body.detail-active,
    body.detail-active html {
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    body.detail-active::-webkit-scrollbar,
    body.detail-active html::-webkit-scrollbar {
      display: none;
    }

    body.detail-active .projects-grid {
      pointer-events: none;
    }

    /* Hide other cards when detail view is active */
    body.detail-active .project-card:not(.active-card) {
      opacity: 0;
      transform: scale(0.95);
      pointer-events: none;
    }

    /* The active card transforms */
    .project-card.active-card {
      position: relative;
      z-index: 100;
      grid-column: span 2 !important;
      border-color: var(--border-light);
    }

    .project-card.active-card .project-image {
      aspect-ratio: 2/1;
    }

    .project-card.active-card .project-content {
      display: none;
    }

    /* Detail content - same layout as main page */
    .detail-content {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--bg);
      color: var(--text);
      z-index: 150;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease;
      overflow-y: auto;
      overflow-x: hidden;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .detail-content::-webkit-scrollbar {
      display: none;
    }

    .detail-content.visible {
      opacity: 1;
      visibility: visible;
    }

    .detail-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 140px 40px 100px;
    }

    .detail-header {
      margin-bottom: 48px;
    }

    .detail-category {
      display: none;
    }

    /* Title matches resume name style */
    .detail-title {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-size: clamp(36px, 5vw, 48px);
      font-weight: 700;
      color: var(--text);
      letter-spacing: -0.02em;
      line-height: 1.1;
      margin: 0 0 12px 0;
    }

    .detail-date {
      font-size: 14px;
      color: var(--text-dim);
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease 0.15s;
    }

    .detail-content.visible .detail-date {
      opacity: 1;
      transform: translateY(0);
    }

    /* Top row: gallery + sidebar side by side */
    .detail-top-row {
      display: grid;
      grid-template-columns: 3fr 2fr;
      gap: 40px;
      margin-bottom: 48px;
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.1s;
    }

    .detail-content.visible .detail-top-row {
      opacity: 1;
      transform: translateY(0);
    }

    /* Gallery */
    .detail-gallery {
      width: 100%;
    }

    .gallery-main {
      width: 100%;
      aspect-ratio: 4/3;
      background: #000;
      border: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      margin-bottom: 12px;
      position: relative;
    }

    .gallery-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      background: rgba(0,0,0,0.6);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
      opacity: 0;
    }

    .gallery-main:hover .gallery-nav {
      opacity: 1;
    }

    .gallery-nav:hover {
      background: rgba(255,255,255,0.15);
      border-color: rgba(255,255,255,0.5);
    }

    .gallery-nav-prev { left: 12px; }
    .gallery-nav-next { right: 12px; }

    .gallery-nav svg {
      width: 18px;
      height: 18px;
      stroke: rgba(255,255,255,0.8);
      stroke-width: 2;
      fill: none;
    }

    .gallery-nav:hover svg { stroke: #fff; }

    .gallery-main img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      object-position: center;
      background: #000;
    }

    .gallery-main-placeholder {
      color: var(--text-muted);
      font-size: 11px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
    }

    .gallery-thumbs {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding: 4px 0;
    }

    .gallery-thumb {
      width: 70px;
      height: 44px;
      flex-shrink: 0;
      background: rgba(255,255,255,0.03);
      border: 2px solid transparent;
      cursor: pointer;
      overflow: hidden;
      transition: all 0.2s;
      opacity: 0.5;
    }

    .gallery-thumb:hover {
      opacity: 0.8;
    }
    .gallery-thumb.active { border-color: #fff; opacity: 1; }

    .gallery-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Detail body - full width description below */
    .detail-body {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.2s;
    }

    .detail-content.visible .detail-body {
      opacity: 1;
      transform: translateY(0);
    }

    .detail-description {
      font-size: 16px;
      line-height: 1.8;
      color: var(--text-dim);
      margin-bottom: 32px;
      columns: 2;
      column-gap: 40px;
    }

    .detail-description code {
      display: block;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      padding: 12px 16px;
      margin: 12px 0;
      font-family: 'JetBrains Mono', 'Courier New', monospace;
      font-size: 14px;
      color: #7dd3fc;
      border-radius: 4px;
      overflow-x: auto;
    }

    [data-theme="light"] .detail-description code {
      background: rgba(0,0,0,0.04);
      border-color: rgba(0,0,0,0.1);
      color: #0369a1;
    }

    .detail-description strong {
      color: var(--text);
      font-weight: 600;
      display: block;
      margin-top: 24px;
      margin-bottom: 8px;
      break-after: avoid;
      -webkit-column-break-after: avoid;
    }

    .detail-description strong:first-child {
      margin-top: 0;
    }

    .detail-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .detail-tag {
      padding: 8px 16px;
      border: 1px solid var(--border);
      font-size: 12px;
      color: var(--text-dim);
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
      transition: all 0.2s;
    }

    .detail-tag:hover {
      border-color: var(--border-light);
      color: #fff;
    }

    .detail-sidebar h3 {
      font-size: 11px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--text-dim);
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
      margin-bottom: 16px;
    }

    .detail-links {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 40px;
    }

    .detail-link {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 12px 20px;
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text-dim);
      text-decoration: none;
      font-size: 13px;
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
      transition: all 0.2s;
    }

    .detail-link:hover {
      border-color: var(--border-light);
      color: #fff;
      background: rgba(255,255,255,0.02);
    }

    .detail-link svg {
      width: 16px;
      height: 16px;
      fill: currentColor;
    }

    .detail-link.unavailable-link {
      cursor: not-allowed;
      opacity: 0.6;
    }

    .detail-link.unavailable-link:hover {
      border-color: #ff4444;
      color: #ff4444;
      background: rgba(255, 68, 68, 0.1);
    }

    .detail-link.unavailable-link:hover svg {
      fill: #ff4444;
    }

    /* Navigation - removed left/right buttons */
    .detail-nav {
      display: none;
    }

    /* Close button */
    .detail-close {
      position: fixed;
      top: 100px;
      right: 40px;
      width: 50px;
      height: 50px;
      background: rgba(0,0,0,0.8);
      border: 1px solid var(--border);
      cursor: pointer;
      z-index: 200;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      opacity: 0;
      transform: scale(0.8);
    }

    [data-theme="light"] .detail-close {
      background: rgba(255,255,255,0.9);
    }

    [data-theme="light"] .detail-close::before,
    [data-theme="light"] .detail-close::after {
      background: #111;
    }

    .detail-content.visible .detail-close {
      opacity: 1;
      transform: scale(1);
    }

    .detail-close:hover {
      background: rgba(255,255,255,0.1);
      border-color: var(--border-light);
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(255,255,255,0.2), 0 0 40px rgba(255,255,255,0.1);
    }

    .detail-close::before,
    .detail-close::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 2px;
      background: #fff;
      transition: all 0.2s;
    }
    .detail-close::before { transform: rotate(45deg); }
    .detail-close::after { transform: rotate(-45deg); }

    /* ESC hint animation */
    .esc-hint {
      position: fixed;
      top: 112px;
      right: 100px;
      font-size: 13px;
      color: rgba(255,255,255,0.5);
      font-family: var(--font-mono);
      letter-spacing: 0.05em;
      opacity: 0;
      transform: translateX(20px);
      pointer-events: none;
    }

    .detail-content.visible .esc-hint {
      animation: escHintCycle 3s ease-out forwards;
      animation-delay: 0.5s;
    }

    @keyframes escHintCycle {
      0% {
        opacity: 0;
        transform: translateX(20px);
      }
      15% {
        opacity: 1;
        transform: translateX(0);
      }
      70% {
        opacity: 1;
        transform: translateX(0);
      }
      100% {
        opacity: 0;
        transform: translateX(-10px);
      }
    }

    /* Back to top button - styled like close button */
    .detail-fab-container {
      position: fixed;
      bottom: 40px;
      right: 40px;
      z-index: 200;
      opacity: 0;
      transition: all 0.3s ease;
      pointer-events: none;
    }

    .detail-fab-container.visible {
      opacity: 1;
      pointer-events: auto;
    }

    #fabReturnProjects {
      display: none;
    }

    .detail-fab {
      width: 50px;
      height: 50px;
      background: rgba(0,0,0,0.8);
      border: 1px solid var(--border);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      padding: 0;
      color: #fff;
    }

    .detail-fab:hover {
      background: rgba(255,255,255,0.1);
      border-color: var(--border-light);
      transform: scale(1.05);
    }

    .detail-fab svg {
      width: 20px;
      height: 20px;
      fill: #fff;
    }

    .detail-fab .fab-text {
      display: none;
    }

    @media (max-width: 768px) {
      .detail-fab-container {
        bottom: 24px;
        right: 24px;
      }

      .detail-fab {
        width: 44px;
        height: 44px;
      }
    }

    /* Black hole close animation - fast */
    .detail-content.closing {
      animation: blackHoleClose 0.25s cubic-bezier(0.55, 0, 1, 0.45) forwards;
    }

    @keyframes blackHoleClose {
      0% {
        opacity: 1;
        transform: scale(1);
        filter: blur(0);
      }
      100% {
        opacity: 0;
        transform: scale(0.95);
        filter: blur(6px);
      }
    }

    /* Responsive */
    @media (max-width: 900px) {
      .projects-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .detail-top-row {
        grid-template-columns: 1fr;
        gap: 32px;
      }

      .detail-description {
        columns: 1;
      }
    }

    @media (max-width: 600px) {
      .projects-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }

      .project-image {
        aspect-ratio: 16/9;
      }

      .project-content {
        padding: 12px;
      }

      .project-meta {
        margin-bottom: 6px;
      }

      .project-category { font-size: 9px; }
      .project-date { font-size: 10px; }
      .project-title { font-size: 13px; margin-bottom: 4px; }
      .project-excerpt { display: none; }
    }

    @media (max-width: 768px) {
      /* Standardized mobile nav */
      .nav-bar {
        position: absolute;
        padding: 16px 16px;
        gap: 24px;
        justify-content: center;
        height: auto;
      }
      .nav-link {
        font-size: 11px;
        padding: 6px 0;
        letter-spacing: 0.1em;
      }
      
      main { padding: 120px 24px 80px; }
      .detail-inner { padding: 120px 24px 80px; }

      .page-title {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
        font-size: clamp(32px, 8vw, 42px);
      }

      .detail-title {
        font-size: clamp(32px, 8vw, 42px);
      }

      .detail-close {
        top: 90px;
        right: 24px;
        width: 44px;
        height: 44px;
      }

      .esc-hint {
        display: none;
      }

      .gallery-main {
        aspect-ratio: 4/3;
      }
    }

    /* Footage teaser */
    .footage-teaser {
      margin-top: 80px;
      padding-top: 60px;
      border-top: 1px solid var(--border);
    }

    .footage-link {
      display: block;
      position: relative;
      padding: 32px 40px;
      background: rgba(255,255,255,0.02);
      border: 1px solid var(--border);
      text-decoration: none;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .footage-link:hover {
      background: rgba(255,255,255,0.04);
      border-color: var(--border-light);
      transform: translateY(-2px);
    }

    .footage-content {
      display: flex;
      align-items: center;
      gap: 24px;
      position: relative;
      z-index: 2;
    }

    .footage-icon {
      width: 56px;
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.05);
      border: 1px solid var(--border);
      flex-shrink: 0;
      transition: all 0.3s ease;
    }

    .footage-icon svg {
      width: 28px;
      height: 28px;
      color: var(--text-dim);
      transition: color 0.3s ease;
    }

    .footage-link:hover .footage-icon {
      background: rgba(255,255,255,0.08);
      border-color: var(--border-light);
    }

    .footage-link:hover .footage-icon svg {
      color: #fff;
    }

    .footage-text {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .footage-label {
      font-size: 10px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text-muted);
      font-family: 'Brandon Grotesque', 'brandon-grotesque', 'Inter', system-ui, sans-serif;
    }

    .footage-title {
      font-size: 18px;
      font-weight: 500;
      color: var(--text-dim);
      letter-spacing: -0.01em;
      transition: color 0.3s ease;
    }

    .footage-link:hover .footage-title {
      color: #fff;
    }

    .footage-arrow {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      opacity: 0.4;
      transition: all 0.3s ease;
    }

    .footage-arrow svg {
      width: 20px;
      height: 20px;
      color: #fff;
    }

    .footage-link:hover .footage-arrow {
      opacity: 1;
      transform: translateX(8px);
    }

    body.detail-active .footage-teaser {
      display: none;
    }


  </style>
</head>
<body>
  <div class="cursor-glow" id="cursorGlow"></div>

  <!-- Theme Toggle -->
  <button class="theme-toggle" id="themeToggle" aria-label="Toggle light mode">
    <svg class="icon-moon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
    <svg class="icon-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
  </button>

  <nav class="nav-bar">
    <a href="/" class="nav-link">HOME</a>
    <a href="/resume" class="nav-link">RESUME</a>
    <a href="/projects" class="nav-link active">Projects</a>
    <a href="/connect" class="nav-link">Connect</a>
  </nav>

  <main>
    <header class="page-header">
      <h1 class="page-title" id="pageTitle">Projects</h1>
    </header>

    <div class="filter-bar">
      <div class="filter-row">
      <div class="filter-group">
        <span class="filter-label">Category</span>
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="hardware">Hardware</button>
        <button class="filter-btn" data-filter="software">Software</button>
        <button class="filter-btn" data-filter="research">Research</button>
      </div>
      </div>
    </div>

    <div class="projects-grid" id="projectsGrid"></div>

    <section class="footage-teaser">
      <a href="/footage" class="footage-link">
        <div class="footage-content">
          <div class="footage-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14v-4z" />
              <rect x="3" y="6" width="12" height="12" rx="2" />
            </svg>
          </div>
          <div class="footage-text">
            <span class="footage-label">WATCH</span>
            <span class="footage-title">Drone Footage & Aerial Views</span>
          </div>
          <div class="footage-arrow">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </div>
        </div>
      </a>
    </section>
  </main>

  <!-- Detail View -->
  <div class="detail-content" id="detailContent">
    <button class="detail-close" id="detailClose"></button>
    <span class="esc-hint">or press esc</span>

    <div class="detail-inner">
      <header class="detail-header">
        <p class="detail-category" id="detailCategory"></p>
        <h1 class="detail-title" id="detailTitle"></h1>
        <p class="detail-date" id="detailDate"></p>
      </header>

      <div class="detail-top-row">
        <div class="detail-gallery" id="detailGallery"></div>
        <aside class="detail-sidebar" id="detailSidebar"></aside>
      </div>

      <div class="detail-body">
        <div class="detail-main">
          <div class="detail-description" id="detailDescription"></div>
          <div class="detail-tags" id="detailTags"></div>
        </div>
      </div>
    </div>

    <!-- Back to top button -->
    <div class="detail-fab-container" id="detailFabs">
      <button class="detail-fab" id="fabBackToTop">
        <svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
        <span class="fab-text">Back to Top</span>
      </button>
    </div>
  </div>

  <script>
    // Projects data
    const projects = [
      {
        id: 'formula-electric',
        title: 'Formula Electric at Berkeley (FEB)',
        category: 'Hardware',
        filterCategory: 'hardware',
        years: [2025],
        period: 'college',
        date: 'Sep 2025 — Present',
        active: true,
        featured: false,
        excerpt: 'High-voltage battery system for Berkeley\'s Formula Electric racing team.',
        description: `<strong>The Accumulator</strong><br><br>I work on the Accumulator subteam at Formula Electric at Berkeley, designing and manufacturing the attic casing for our 588V lithium-ion battery pack. The pack's energy is governed by:<br><br><code>E_pack = N_parallel × ∫₀ᵠ V(q) dq</code><br><br>where V(q) is cell voltage as a function of charge depleted. At 588V, a mistake means serious injury. I once accidentally shorted two segment busbars together and watched the cells heat up alarmingly fast. Nobody was hurt, but it changed how I approach every decision on this system.<br><br><strong>My Role: The Attic</strong><br><br>The casing must withstand FSAE crash loads (40g lateral, 40g longitudinal, 20g vertical), maintain dielectric strength at 588V, pass a rain test, and dissipate cell heat. I run FEA checking Von Mises stress everywhere:<br><br><code>σ_vm = √(σ₁² − σ₁σ₂ + σ₂²)</code><br><br>Everything must stay below yield with a 1.5x safety factor. I chose 6061-T6 aluminum because after TIG welding and post-weld heat treatment (530°C solutionize, quench, age at 175°C for 8 hours), it recovers ~70% of base yield strength. 7075 does not recover from welding, steel is too heavy, and carbon fiber has conductivity concerns near HV components.<br><br><strong>Floor and Sealing</strong><br><br>The floor uses 6mm polycarbonate for electrical isolation:<br><br><code>V_breakdown = 15 kV/mm × 6 mm = 90 kV</code><br><br>That gives enormous margin over 588V, plus it is transparent for visual inspection without disassembly. Waterproofing uses a 3mm neoprene gasket (50A durometer) at 20-30% compression, with aluminum standoffs preventing over-compression. I chose neoprene over silicone for petroleum resistance near the powertrain.<br><br><img src="/assets/gas.png" alt="Gasket compression equation" style="max-width: 100%; margin: 20px 0; border-radius: 8px;"><br><br><strong>Insulation and Thermal</strong><br><br>All internal surfaces near HV components are lined with Nomex 410 (18 kV/mm dielectric, rated to 220°C, UL 94 V-0 fire resistance). For thermal management, the wall conductive resistance is low at 3mm 6061 (k ≈ 167 W/m·K), so the real bottleneck is convection off the outer surface, which is why we focused on optimizing airflow around the casing.<br><br><strong>Manufacturing</strong><br><br>Panels are laser-cut on a FabLight fiber laser, TIG welded, then heat-treated. The polycarbonate floor and neoprene gasket are waterjet cut. Before approval, the casing passes a 1500V AC dielectric test, IP65 water ingress test, 40g structural simulation, and perimeter gasket compression checks. Looking forward to competing in Michigan.`,
        tags: ['Solidworks', 'Solidworks PDM', 'CAD/CAM/CAE', 'Composites', 'High Voltage', 'Manufacturing', 'DFM/DFA'],
        links: [{ url: 'https://ev.berkeley.edu/', label: 'Team Website' }],
        images: [
          '/assets/accumimg.png',
          '/assets/img1.png',
          '/assets/img2.png',
          '/assets/img3.png',
          '/assets/accumsa.png'
        ]
      },
      {
        id: 'ramesh-lab',
        title: 'Ramesh Lab',
        category: 'Research',
        filterCategory: 'research',
        years: [2026],
        period: 'college',
        date: 'Jan 2026 — Present',
        active: true,
        featured: false,
        excerpt: 'Researching oxide thin films for next-gen memory and compute.',
        description: `<strong>Research Position</strong><br><br><em style="opacity: 0.7;">I recently joined the lab in January 2026, so more content will be added here as I get deeper into the work.</em><br><br>I am working in Ramesh Lab, learning how complex-oxide thin films are grown and engineered for next-gen memory and compute. The core question is how atomic-level decisions during fabrication reshape the electronic and ferroic behavior of the final material.<br><br><strong>The Growth Workflow</strong><br><br>I am learning the full process: substrate prep (annealing, solvent cleaning, step-terrace control for atomically flat surfaces), PLD growth (laser fluence tuning, oxygen partial pressure control, substrate temperature stabilization), RHEED monitoring (reading oscillations during layer-by-layer growth), and post-growth characterization with AFM, XRD, PFM, and electrical measurements.<br><br><strong>Why It Matters</strong><br><br>Strain, interfaces, and atomic stacking order create emergent behaviors you cannot get in any single material alone: switchable polarization for ultra-low-energy memory, interfacial conduction (2DEGs) for novel logic, coupled ferroic states enabling electrical control of magnetism. Right now I am shadowing growth sessions, learning how small deviations -- oxygen vacancy concentration, plume shape, a few degrees of temperature drift -- completely change domain structures, mobility, or coercive fields. The long-term goal is to take ownership of small growth experiments and explore how interface engineering can push these materials toward practical device integration, especially as traditional silicon scaling hits fundamental physical limits.`,
        tags: ['Materials Science', 'Thin Films', 'PLD', 'Characterization', 'Oxide Electronics', 'Research'],
        links: [{ label: 'Lab Website', url: 'https://rameshlab.lbl.gov' }],
        images: ['/assets/pld_system.gif']
      },
      {
        id: 'atlas-smr',
        title: 'Atlas SMR',
        category: 'Research/Software',
        filterCategory: ['research', 'software'],
        years: [2025, 2026],
        period: 'highschool',
        date: 'Oct 2025 — Present',
        active: true,
        featured: false,
        excerpt: 'Interactive tool for evaluating nuclear reactor site feasibility + research paper.',
        description: `<strong>The Research</strong><br><br>My AP Research capstone, turned interactive tool. Rural America pays ~25% more for electricity than urban areas and relies on aging infrastructure. I investigated whether hybrid Small Modular Reactor + solar systems could address this inequity. Solar costs dropped 89% since 2010 but cannot generate at night; SMRs provide 24/7 low-carbon baseload. Together they balance each other out. Almost all existing SMR research focuses on urban implementation, which left a clear gap for rural applications.<br><br><strong>The Tool</strong><br><br>Atlas SMR is an interactive web platform pulling data from the NRC, EIA, and USGS seismic databases. It displays 89 operating reactors, 13 shutdown facilities, and 119 candidate sites scored by a weighted algorithm. Users scrub a timeline from 2010 to 2050 to see reactor status shift with license expirations. Each candidate site's viability score:<br><br><code>S = w₁(1 - P/Pₘₐₓ) + w₂(1 - Dₛ/Dₘₐₓ) + w₃(W/Wₘₐₓ) + w₄(G/Gₘₐₓ)</code><br><br>where P is population in the 10-mile NRC emergency zone, Dₛ is distance to nearest seismic fault, W is cooling water proximity, and G is grid interconnection capacity. Default weights (0.30/0.25/0.25/0.20) are calibrated against historical NRC approvals, but users can adjust them and watch candidate rankings shift.<br><br><strong>Scenario Builder</strong><br><br>Users configure 50-300 MWe per module, 1-12 modules per site, and deployment year. For hybrid systems, annual energy:<br><br><code>E_annual = (C_smr × 8760 × CF_smr) + (C_solar × 8760 × CF_solar × (1 - curtailment))</code><br><br>In solar-rich regions like Navajo Nation, larger solar arrays reduce SMR daytime load. In cloudier areas like Nome, Alaska, the system leans on SMR output. My analysis showed a properly configured hybrid could meet ~24% of rural energy needs, with clear scalability beyond that.<br><br><strong>Limitations</strong><br><br>SMR cost estimates still lack large-scale U.S. operational data. Nuclear stigma is real. This tool is a prototype visualization, not a policy instrument -- actual site selection requires Environmental Impact Statements and full NRC licensing far beyond what a scoring algorithm captures.`,
        tags: ['Web Dev', 'GIS', 'Energy', 'Data Viz', 'Nuclear', 'Policy Research', 'AP Research'],
        links: [
          { label: 'Live Site', url: 'https://atlas-smr.vercel.app/' },
          { label: 'Research Paper', url: '/assets/AtlasSMR_Research_Paper.pdf' }
        ],
        images: ['/assets/atmaslet.png', '/assets/atmas.png', '/assets/smrbuilder.png', '/assets/smsad.png', '/assets/smrtech.png']
      },
      {
        id: 'dejavu-2024-25',
        title: 'Deja Vu — INTO THE DEEP',
        category: 'Hardware/Software',
        filterCategory: ['hardware', 'software'],
        years: [2024, 2025],
        period: 'highschool',
        date: '2024 — 2025',
        active: false,
        featured: false,
        excerpt: 'Hardware Lead for FTC #13216. Designed robot with 500+ custom parts.',
        description: `<strong>The Robot</strong><br><br>INTO THE DEEP (2024-25 FTC game): collect samples from a submersible, score them in baskets and specimen chambers, and hang from a bar for endgame points. As Hardware Lead for Team Deja Vu #13216, I owned the mechanical design, CAD management, and manufacturing coordination. The robot CAD model has over 500 unique parts across mecanum drivetrain, active intake, transfer pathway, arm/lift, end effector, and hang mechanism.<br><br><strong>The Intake</strong><br><br>Our most iterated subsystem, four revisions total. V1 (passive funnel with compliant wheels) was too slow. V2 (active roller with surgical tubing) had inconsistent grip. V3 (dual-stage roller with speed differential) jammed at odd angles. V4 landed on a single high-speed roller with optimized geometry, and that became our competition design. Each version taught us something about the trade-offs between speed, reliability, and complexity with these specific game pieces.<br><br><strong>Manufacturing and FEA</strong><br><br>We used Markforged printers for structural nylon, Prusa for prototypes, laser-cut polycarbonate and Delrin plates, CNC-machined aluminum for high-stress parts, and standard manual tools for modifications. For the arm pivot and hang brackets, I ran FEA in SolidWorks, checking stress vs. yield (safety factor > 2.0) and deflection under load to ensure nothing interfered with mechanism travel.<br><br><strong>Software</strong><br><br>I also wrote the TeleOp code in Java: mecanum drive with field-centric control using IMU heading, arm and lift position control with encoder-based PID loops, intake/transfer sequencing, and driver feedback through gamepad rumble. Writing both the hardware and driver code let me optimize how the mechanisms actually feel to operate, which fed directly back into design decisions.<br><br>The reliability-focused approach paid off: minimal mechanical failures during matches, and we advanced through qualifications into elimination rounds.<br><br><em style="opacity: 0.7; font-size: 0.9em;">Note: Team Deja Vu #13216 has since become a legacy team, with a new group of students carrying the name forward.</em>`,
        tags: ['CAD', 'FEA', 'Manufacturing', 'Leadership', 'SolidWorks', 'FTC', '3D Printing', 'Java'],
        links: [{ label: 'Team Website', url: 'https://dejavurobotics.org/' }],
        images: ['/assets/newiamge.png', '/assets/dejavubot-removebg-preview.png', '/assets/intake.png', '/assets/gnag.png', '/assets/deja.png', '/assets/deja1.png', '/assets/Screenshot 2026-02-01 145613.png']
      },
      {
        id: 'dejavu-2023-24',
        title: 'Deja Vu — CENTERSTAGE',
        category: 'Hardware/Software',
        filterCategory: ['hardware', 'software'],
        years: [2023, 2024],
        period: 'highschool',
        date: '2023 — 2024',
        active: false,
        featured: false,
        excerpt: 'Hardware Lead for FTC #13216. Designed pixel-scoring mechanisms.',
        description: `<strong>The Game</strong><br><br>CENTERSTAGE (2023-24 FTC): robots collected hexagonal "pixels" and placed them on a vertical backdrop to create mosaic patterns, with bonus points for specific arrangements and launching paper airplane drones during endgame. I joined Deja Vu #13216 as Hardware Lead after Zenith dissolved when its founder graduated.<br><br><strong>The Claw</strong><br><br>The hardest mechanism to get right. Hexagonal pixels interlock in weird ways, and the claw had to grip them reliably without blocking the vision system. The final design used compliant TPU fingers that conform to pixel geometry, spring-loaded hinges for passive grip, and servo-actuated release. Dual-pixel capacity was critical -- grabbing two per trip to the backdrop doubled our scoring potential.<br><br><strong>Vision and Software</strong><br><br>The robot used AprilTags on the backdrop for autonomous alignment and a camera for detecting pixel positions. I wrote the TeleOp code in Java: mecanum drive with configurable speed curves, arm position presets for different backdrop heights, claw control with pixel detection feedback, drone launcher arming sequence, and intake/transfer coordination. Writing both hardware and driver code meant I could tune the controls specifically for our drivers' preferences.<br><br><strong>Results</strong><br><br>We qualified for the NorCal regional championship with minimal mechanical failures during matches. The reliability-first philosophy I brought from Zenith paid off here.<br><br><em style="opacity: 0.7; font-size: 0.9em;">Note: Team Deja Vu #13216 has since become a legacy team, with a new group of students carrying the name forward.</em>`,
        tags: ['CAD', 'FEA', 'Manufacturing', 'Leadership', 'FTC', 'Java'],
        links: [{ label: 'Team Website', url: 'https://dejavurobotics.org/' }],
        images: ['/assets/Deja_Vu_Bot_Assemble_Version_1_v4_v1112.png', '/assets/IMG_2714.png', '/assets/dejapp.png']
      },
      {
        id: 'zenith-2022-23',
        title: 'Zenith — POWERPLAY',
        category: 'Hardware/Software',
        filterCategory: ['hardware', 'software'],
        years: [2022, 2023],
        period: 'highschool',
        date: '2022 — 2023',
        active: false,
        featured: false,
        excerpt: 'Team Lead for FTC #20424. Built cone-stacking robot with custom lift.',
        description: `<strong>The Lift</strong><br><br>POWERPLAY (2022-23 FTC): stack cones on junctions of varying heights. My second year in FTC, first as Team Lead for Zenith #20424. The core mechanism was a linear lift needing 30+ inches of travel, full extension under 1.5 seconds, carrying ~200g. We used continuous rigging with dyneema string and a high-RPM motor. Lift speed depends on spool geometry:<br><br><code>v_lift = (ω_motor × d_spool × π) / (2 × G)</code><br><br>But the motor also needs enough torque to accelerate the carriage without stalling:<br><br><code>τ_motor = (m_carriage × g + m_carriage × a_desired) × d_spool / (2 × G × η)</code><br><br>where η is drivetrain efficiency (~0.85 for string-on-spool). Getting the gear ratio right meant balancing these two equations: too aggressive and the motor stalls under load, too conservative and you lose cycle time.<br><br><strong>Cone Manipulation</strong><br><br>The claw went through three versions. V1 (simple pinch) dropped cones during fast lift moves because acceleration pulled them loose. V2 added spring-loaded compliance but was inconsistent with cone orientation. The breakthrough was V3: internal centering guides that funnel the cone into position before gripping. The claw needed to actively center the cone, not just grab it.<br><br><strong>Software</strong><br><br>I wrote both TeleOp and autonomous in Java. TeleOp had mecanum kinematics, lift PID control, and speed scaling modes. Autonomous used OpenCV color thresholding for signal sleeve detection, dead wheel odometry, and IMU heading correction to fight encoder drift over the 30-second period.<br><br><strong>ZenLender</strong><br><br>I noticed teams scrambling for parts before competitions with $50+ overnight shipping on $15 parts. I built ZenLender, a basic spreadsheet system for lending parts between teams. Primitive, but the concept eventually evolved into Inventry. During one match, our lift string snapped mid-cycle because we had not inspected it for wear. Preventive maintenance matters as much as good design.<br><br><em style="opacity: 0.7; font-size: 0.9em;">Note: Team Zenith #20424 has since dissolved.</em>`,
        tags: ['CAD', 'Java', 'Leadership', 'Mentoring', 'FTC', 'Rigging', 'OpenCV'],
        links: [{ label: 'Team Website', url: 'https://zenithftc.wixsite.com/zenithftc' }],
        images: ['/assets/zenithnot-removebg-preview.png', '/assets/zenithbottt.png', '/assets/IMG_0537.png', '/assets/IMG_0691-ezgif.com-video-to-gif-converter.gif', '/assets/zensim.png', '/assets/zensim22.png']
      },
      {
        id: 'inventry',
        title: 'Inventry',
        category: 'Software',
        filterCategory: 'software',
        years: [2025],
        period: 'college',
        date: 'Jun 2025 — Present',
        active: true,
        featured: false,
        excerpt: 'AI-powered robotics parts inventory and marketplace.',
        description: `<strong>The Problem</strong><br><br>If you have been on an FTC team, you know the panic: a motor burns out two nights before competition, and overnight shipping on a $15 part is $150+. My team scrambled through group chats and outdated spreadsheets to find nearby teams with spares. I first built ZenLender on Zenith -- a basic spreadsheet lending system -- but manual data entry killed adoption. Inventry is the real version.<br><br><strong>What It Does</strong><br><br>Three components: inventory management (track parts, quantities, conditions), a part lending network (find nearby teams with what you need), and a marketplace (in development). The stack is React/TypeScript with Tailwind on the frontend, Node.js/Express/PostgreSQL on the backend, OAuth 2.0 with team verification through FIRST's public data, hosted on Vercel and Railway.<br><br><strong>AI Invoice Parsing</strong><br><br>The biggest friction with inventory tools is data entry. Nobody wants to type in 200 parts from a GoBilda order. Users upload invoice PDFs or photos and the system extracts part numbers, quantities, prices, and dates using Tesseract OCR + GPT-4 for structured parsing. Accuracy is ~94% on clean invoices, ~85% on photographed receipts. I also built weekly scrapers for GoBilda, REV, ServoCity, and AndyMark -- 3,000+ unique SKUs feeding the search system with current pricing and availability.<br><br><strong>The Lending System</strong><br><br>The hard part: getting teams to lend parts to strangers. The solution is a reputation system where lender points unlock priority borrowing access, distance matching prioritizes teams within driving range (default 30 miles), and requests get flagged as urgent if a competition is within 7 days. Privacy was non-negotiable -- exact addresses are never shown, communication stays on-platform, and all data is encrypted and GDPR-deletable.<br><br>FTC teams already spend too much money. If this saves one team from paying $200 in emergency shipping, it is worth more than whatever I could charge.`,
        tags: ['Web Dev', 'AI', 'Webscraping', 'Database', 'React', 'Node.js', 'PostgreSQL', 'FTC'],
        links: [{ label: 'Live Site', url: '#', unavailable: true }],
        images: ['/assets/homepageinve.png', '/assets/invends.png']
      },
      {
        id: 'pear-volunteering',
        title: 'Pear Volunteering',
        category: 'Software',
        filterCategory: 'software',
        years: [2023, 2024, 2025],
        period: 'highschool',
        date: 'Aug 2023 — May 2025',
        active: false,
        featured: false,
        excerpt: 'Platform connecting 100+ students with volunteer opportunities.',
        description: `<strong>The Problem</strong><br><br>Finding volunteer opportunities as a high school student was frustrating -- word of mouth, missed deadlines, full events. Organizers coordinating through email chains and Google Forms had no way to verify students or track participation. Pear connected both sides: 100+ registered student volunteers, 20+ event organizers (nonprofits, school clubs, community orgs), and school administrators who needed verified hour logs.<br><br><strong>How It Works</strong><br><br>Three user types: students browse and sign up for events, organizers create listings and manage volunteers, administrators verify hours for school records. Built on Wix with custom Velo code for business logic and webhook integrations. When a student signs up, the system validates their student ID, checks for schedule conflicts, notifies the organizer, and updates capacity. For high-volume events (some filled 50+ spots in under an hour), I built an async webhook queue:<br><br><code>Event Signup → Wix Backend → Webhook Queue → Email Service → Database Update</code><br><br>This prevents timeouts during traffic spikes and handles ~10 requests per second.<br><br><strong>Hour Tracking</strong><br><br>The biggest pain point for students was proving volunteer hours for college applications. Organizers check in volunteers via QR code scan, hours auto-log with event details, and students can request official verification letters auto-generated as PDFs with school letterhead. This saved counselors significant paperwork. All communication flows through Pear -- student contact info is never shown to organizers, data is encrypted, and parents can request deletion at any time.<br><br>I handed off Pear when I left for college in 2025.`,
        tags: ['App Dev', 'Web Dev', 'CMS', 'Security', 'Wix Velo', 'Webhooks', 'Community'],
        links: [],
        images: ['/assets/pearpage.png', '/assets/pearis.png', '/assets/pearrr.png', '/assets/pearvoluyn.png']
      },
      {
        id: 'construction-acclimation',
        title: 'Construction Acclimation',
        category: 'Hardware/Software',
        filterCategory: ['hardware', 'software'],
        years: [2022, 2023],
        period: 'highschool',
        date: 'Oct 2022 — Apr 2023',
        active: false,
        featured: false,
        excerpt: 'Low-cost probe alternative to save $118M in city spending.',
        description: `<strong>The Problem</strong><br><br>Palo Alto projected $118 million over the next decade on construction acclimation probes -- devices that track temperature and humidity during concrete curing. These commercial units cost $500-2,000 each, and regulations require multiple per site. That seemed absurd for what is essentially temperature and humidity logging. Concrete cures through an exothermic hydration reaction, and the maturity method models strength gain:<br><br><code>M(t) = Σ (T_a - T₀) × Δt</code><br><br>where T_a is average concrete temperature, T₀ is the datum temperature (-10°C), and Δt is the time interval. Building codes require continuous documentation that curing conditions stayed within range.<br><br><strong>The Prototype</strong><br><br>I built a $47 probe: Arduino Nano, DHT22 (±0.5°C temp, ±2-5% humidity), DS18B20 for redundancy, MicroSD logging every 5 minutes, RTC for accurate timestamps, and a 3.7V LiPo battery. PETG enclosure with two 30mm fans for airflow. Tested alongside a calibrated Humboldt H-4210 ($1,200 commercial unit) for 14 days: temperature deviation ±0.8°C, humidity ±3.2%, 4,028 of 4,032 readings captured (99.7% reliability). Well within building code thresholds.<br><br><code>Arduino Nano clone............$8<br>DHT22 sensor...................$6<br>DS18B20 sensor.................$4<br>MicroSD module.................$5<br>RTC module.....................$3<br>LiPo battery...................$12<br>3D printed enclosure...........$5<br>Fans and misc wiring...........$4<br>---------------------------------<br>Total: $47</code><br><br><strong>Dashboard and Presentation</strong><br><br>I built a client-side web dashboard (vanilla JS + Chart.js) for uploading SD card CSVs, graphing conditions over time, flagging out-of-range periods, and generating PDF reports for inspectors. In April 2023, I presented to City of Palo Alto construction officials. They were interested in the cost savings but raised valid concerns about calibration certification, liability, and durability. One official mentioned they would consider a pilot if the probe could be formally certified.<br><br>This was a proof of concept -- no wireless transmission, no weatherproofing, 10-day battery life. But an 85-96% cost reduction over commercial alternatives suggests the approach has legs.`,
        tags: ['Hardware', 'Arduino', 'Sensors', 'Data Collection', 'Web Dev', '3D Printing', 'Civic Tech'],
        links: [],
        images: ['/assets/IMG_0297.png', '/assets/IMG_0313.png']
      },
      {
        id: 'beachsweep',
        title: 'Beachsweep',
        category: 'Software',
        filterCategory: 'software',
        years: [2023],
        period: 'highschool',
        date: 'Mar 2023',
        active: false,
        featured: false,
        excerpt: 'Drone-based beach cleanup coordination system.',
        description: `<strong>The Concept</strong><br><br>Built in 24 hours at a hackathon (March 2023). Beach cleanups are reactive -- by the time humans show up with trash bags, damage is done. BeachSweep pairs autonomous drone surveillance with a volunteer coordination platform. Drones detect and map trash continuously; the platform directs humans to where cleanup is needed most.<br><br><strong>Drone and CV Pipeline</strong><br><br>We designed a custom quadcopter for coastal environments: solar panel on top for extended flight, stabilized downward-facing camera, corrosion-resistant frame, GPS/RTK for precise trash mapping. Drones patrol autonomously and return to solar-powered charging docks. The detection pipeline uses YOLO trained on beach debris:<br><br><code>Drone captures image → Onboard preprocessing → Object detection inference →<br>Trash objects classified → GPS coordinates tagged → Data uploaded to server</code><br><br>Trained to recognize plastic bottles, bags, fishing nets, cigarette butts, and general litter. Initial accuracy ~78% on our test dataset.<br><br><strong>The Volunteer Platform</strong><br><br>The website (beachsweep.github.io) shows an interactive map with pollution levels from drone surveys, scheduled cleanup events, and volunteer sign-up. After a drone patrol identifies trash concentrations, the system generates cleanup requests, notifies nearby volunteers, and re-surveys after cleanup to confirm improvement. Volunteers earn documented community service hours.<br><br>This is a concept, not a deployed system. Real deployment would need FAA Part 107 waivers for autonomous BVLOS operations, local government partnerships, and more robust CV models. But the core loop -- drones see what humans miss, platforms connect people who want to help with places that need it -- is compelling.`,
        tags: ['Drones', 'Computer Vision', 'Solar', 'YOLO', 'Hackathon', 'Community', 'CAD'],
        links: [
          { label: 'Live Site', url: 'https://beachsweep.github.io/' }
        ],
        images: ['/assets/beas1.png', '/assets/beas2.png', '/assets/beas3.png', '/assets/beas4.png', '/assets/beas5.png', '/assets/beas5.mp4']
      },
      {
        id: 'zenith-2021-22',
        title: 'Zenith — FREIGHT FRENZY',
        category: 'Hardware/Software',
        filterCategory: ['hardware', 'software'],
        years: [2021, 2022],
        period: 'highschool',
        date: '2021 — 2022',
        active: false,
        featured: false,
        excerpt: 'First year on FTC #20424. Learned CAD and manufacturing.',
        description: `<strong>First Season</strong><br><br>FREIGHT FRENZY was my first season in FTC. I joined Zenith #20424 as a freshman knowing nothing -- no CAD, no drill press experience, barely knew what a motor controller was. The game: collect freight (balls and cubes) from a warehouse, deposit into a multi-level shipping hub, and spin a duck carousel for bonus points.<br><br><strong>Learning CAD and Manufacturing</strong><br><br>I started learning Onshape and my first models were rough. I did not understand constraints, so parts broke unpredictably during modification. I designed everything as separate parts and hoped they would fit together when manufactured. By mid-season I could design simple brackets with confidence; by the end I could model complete subassemblies that worked on the first try. On the shop side, I learned drill press technique, bandsaw operation, and 3D printing fundamentals -- snapping drill bits, warped prints, holes in the wrong place.<br><br><strong>Software</strong><br><br>I started learning Java and the FTC SDK, writing basic gamepad input handling, arm and intake motor control, encoder-based autonomous movements, and duck carousel timing. The code was hard-coded and full of magic numbers -- no PID, no state machines -- but it got us through matches and gave me the foundation for much more sophisticated code later.<br><br><strong>Competition</strong><br><br>My first competition was overwhelming in the best way. Our robot was nothing spectacular, but it scored freight, delivered ducks, and parked successfully. What stuck with me most was the pit atmosphere -- seeing other teams' approaches to the same problem up close and realizing FTC is a community as much as a competition. This season set the foundation for everything that followed.<br><br><em style="opacity: 0.7; font-size: 0.9em;">Note: Team Zenith #20424 has since dissolved.</em>`,
        tags: ['CAD', 'Manufacturing', 'Learning', 'FTC', 'Onshape', 'Java'],
        links: [{ label: 'Team Website', url: 'https://zenithftc.wixsite.com/zenithftc' }],
        images: ['/assets/haulrobot-removebg-preview.png', '/assets/IMG_7934.png', '/assets/IMG_9617.png']
      },
      {
        id: 'serenity-2021-22',
        title: 'Serenity — FREIGHT FRENZY',
        category: 'Hardware/Software',
        filterCategory: ['hardware', 'software'],
        years: [2021, 2022],
        period: 'highschool',
        date: '2021 — 2022',
        active: false,
        featured: false,
        excerpt: 'Team Lead for FTC #13215. Managed design and build process.',
        description: `<strong>Two Teams, One Season</strong><br><br>During FREIGHT FRENZY, I was simultaneously on Zenith (learning fundamentals) and Serenity #13215 (as Team Lead). Unusual, but Serenity was a newer team that needed experienced members to help establish their program. On one team I was the student; on the other I was expected to guide decisions and mentor others.<br><br><strong>Building Infrastructure</strong><br><br>Serenity had no established processes. I helped create weekly design review meetings, a shared CAD workspace with naming conventions, manufacturing priority lists, and engineering notebook assignments. It was my first time building team infrastructure rather than working within it.<br><br><strong>The Robot</strong><br><br>Simpler than Zenith's, reflecting our experience level: tank drive, basic arm for freight placement, passive intake with compliant wheels, and a carousel spinner for duck delivery. The philosophy was to build something that worked every match rather than something impressive that broke. We competed in several league meets and did not advance far, but the robot functioned reliably -- for a young team, that was the win. Teaching new members was challenging because I was still learning myself, but explaining concepts to others forced me to understand them more deeply.`,
        tags: ['CAD', 'Leadership', 'Manufacturing', 'FTC', 'Mentoring'],
        links: [],
        images: ['/assets/View_recent_photos-removebg-preview.png']
      },
      {
        id: 'friendly-fires',
        title: 'Friendly Fires',
        category: 'Hardware/Software',
        filterCategory: ['hardware', 'software'],
        years: [2021, 2022],
        period: 'highschool',
        date: 'Sep 2021 — Mar 2022',
        active: false,
        featured: false,
        excerpt: 'Coal-seam fire detection system for mining safety.',
        description: `<strong>The Problem</strong><br><br>Coal-seam fires burn underground for years, sometimes centuries -- the Centralia mine fire in Pennsylvania has been burning since 1962. Carbon monoxide is odorless, and by the time you feel heat from a nearby fire, it may be too late. Miners in developing countries often work without detection equipment because it is too expensive.<br><br><strong>The Device</strong><br><br>Friendly Fires is a sensor array designed to retrofit onto tools miners already carry, rather than adding new equipment they might forget. It monitors temperature (infrared), carbon monoxide (electrochemical), methane (catalytic bead), and oxygen depletion (galvanic cell). Key specs:<br><br><code>CO sensor: 0-1000 ppm range, ±5% accuracy, <2s response time<br>CH4 sensor: 0-5% LEL range, ±10% accuracy, continuous monitoring<br>Temp sensor: -20°C to 300°C range, ±1°C accuracy</code><br><br>Alerts come through haptic vibration on the tool handle, LEDs for low-light visibility, and an optional audio alarm. Powered by rechargeable lithium battery with solar surface charging and low-power sleep mode for 12+ hours of continuous operation.<br><br><strong>Prototype</strong><br><br>I built a functional prototype with Arduino-based electronics and off-the-shelf sensors, demonstrating CO detection from controlled sources, temperature gradient detection near heat, and multi-sensor integration in a compact package. This was a proof of concept -- sensor calibration in actual mining environments, long-term durability, false positive rates in dusty conditions, and regulatory approval were all unaddressed. Mining is not a lab; equipment gets dropped, covered in dust, and exposed to humidity swings.`,
        tags: ['Sensors', 'Safety', 'Hardware', 'Arduino', 'IoT', 'Mining'],
        links: [],
        images: []
      },
      {
        id: 'prototype-flood',
        title: 'Prototype Ø Flood',
        category: 'Hardware/Software',
        filterCategory: ['hardware', 'software'],
        years: [2020, 2021],
        period: 'highschool',
        date: 'Nov 2020 — May 2021',
        active: false,
        featured: false,
        excerpt: 'Low-cost flood detection for Jakarta, Indonesia.',
        description: `<strong>The Context</strong><br><br>Jakarta sinks up to 25 cm per year from groundwater extraction. Combined with rising sea levels and monsoon rains, flooding kills dozens and displaces hundreds of thousands. Existing warning systems are expensive and concentrated in wealthy areas. Informal settlements along riverbanks -- where the most vulnerable live -- often get no warning at all. I started this during COVID, wondering if low-cost IoT sensors could fill that gap.<br><br><strong>The Device</strong><br><br>An ultrasonic distance sensor mounted above water. As water rises, measured distance decreases. When it crosses a threshold, an alert fires:<br><br><code>Water level = Sensor height - Measured distance<br>Alert threshold = Historical flood level + Safety margin</code><br><br>The sensor connects to an ESP32 communicating via cellular to a central server that aggregates data from multiple sensors and sends SMS alerts (chosen because it works on basic phones without internet). Powered by a 5W solar panel and lithium battery with 3+ days autonomy without sun. The prototype demonstrated centimeter-level water measurement, cellular connectivity, solar charging, and alert triggering -- tested in a bathtub in California, not actual flood conditions.<br><br><strong>Recognition and Limitations</strong><br><br>The project received a Certificate of Achievement from the American Society of Civil Engineers (ASCE). But I want to be honest: I never deployed sensors in Jakarta, I do not speak Indonesian, and single-point measurements may not represent actual flood risk. Real deployment would require local partners, maintained infrastructure, and field validation. This was my first time thinking about technology in a global context, and it taught me that a working prototype is just the beginning.`,
        tags: ['Sensors', 'IoT', 'International', 'ESP32', 'Solar', 'SMS', 'ASCE'],
        links: [],
        images: []
      }
    ];

    // Filter state
    let activeFilter = 'all';

    // State
    let currentProjectIndex = -1;
    let isDetailOpen = false;

    // DOM elements
    const grid = document.getElementById('projectsGrid');
    const pageTitle = document.getElementById('pageTitle');
    const detailContent = document.getElementById('detailContent');
    const detailClose = document.getElementById('detailClose');

    // Scramble animation
    function scrambleText(element, targetText, duration = 500) {
      const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%&*';
      const startTime = Date.now();
      const originalText = element.textContent;
      
      function animate() {
        const elapsed = Date.now() - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const eased = 1 - Math.pow(1 - progress, 3);
        
        let result = '';
        for (let i = 0; i < targetText.length; i++) {
          if (targetText[i] === ' ' || targetText[i] === '—') {
            result += targetText[i];
          } else if (i < targetText.length * eased) {
            result += targetText[i];
          } else {
            result += chars[Math.floor(Math.random() * chars.length)];
          }
        }
        
        element.textContent = result;
        
        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          element.textContent = targetText;
        }
      }
      
      requestAnimationFrame(animate);
    }

    // Filter projects
    function getFilteredProjects() {
      return projects.filter(p => {
        const categories = Array.isArray(p.filterCategory) ? p.filterCategory : [p.filterCategory];
        const categoryMatch = activeFilter === 'all' || categories.includes(activeFilter);
        return categoryMatch;
      }).sort((a, b) => {
        // Active projects first, then by most recent year descending
        if (a.active !== b.active) return a.active ? -1 : 1;
        const aMax = Math.max(...a.years);
        const bMax = Math.max(...b.years);
        return bMax - aMax;
      });
    }

    // Render grid
    function renderGrid() {
      const filtered = getFilteredProjects();
      
      if (filtered.length === 0) {
        grid.innerHTML = '<p style="color: var(--text-dim); grid-column: span 12; text-align: center; padding: 60px 0;">No projects match the selected filters.</p>';
        return;
      }

      grid.innerHTML = filtered.map(p => `
        <div class="project-card${p.featured ? ' featured' : ''}" data-id="${p.id}">
          <div class="project-image">
            ${p.images && p.images.length > 0 
              ? `<img src="${p.images[0]}" alt="${p.title}">` 
              : '<span class="project-image-placeholder">Photo</span>'}
          </div>
          <div class="project-content">
            <div class="project-meta">
              <span class="project-category">${p.category}</span>
              <span class="project-date">${p.active ? '<span class="status-dot"></span>' : ''}${p.date}</span>
            </div>
            <h3 class="project-title">${p.title}</h3>
            <p class="project-excerpt">${p.excerpt}</p>
          </div>
        </div>
      `).join('');
    }

    // Filter button handlers
    document.querySelectorAll('.filter-btn[data-filter]').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.filter-btn[data-filter]').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        activeFilter = btn.dataset.filter;
        smoothFilterTransition();
      });
    });


    // Smooth filter transition (same as view toggle)
    function smoothFilterTransition() {
      const grid = document.getElementById('projectsGrid');
      grid.classList.add('view-transitioning');
      
      setTimeout(() => {
        renderGrid();
        setTimeout(() => {
          grid.classList.remove('view-transitioning');
        }, 50);
      }, 250);
    }


    // Update detail view
    function updateDetailView(project) {
      document.getElementById('detailCategory').textContent = project.category.toUpperCase();
      document.getElementById('detailTitle').textContent = project.title;
      document.getElementById('detailDate').textContent = (project.active ? '● ' : '') + project.date;

      // Gallery
      const galleryEl = document.getElementById('detailGallery');
      let currentGalleryIndex = 0;
      
      if (project.images && project.images.length > 0) {
        const hasMultiple = project.images.length > 1;
        const isVideo = (src) => src.endsWith('.mp4') || src.endsWith('.webm');
        const firstMedia = project.images[0];
        
        const renderMedia = (src, id) => {
          if (isVideo(src)) {
            return `<video src="${src}" id="${id}" autoplay loop muted playsinline style="width:100%;height:100%;object-fit:contain;"></video>`;
          }
          return `<img src="${src}" alt="${project.title}" id="${id}">`;
        };
        
        const renderThumb = (src, i) => {
          if (isVideo(src)) {
            return `<div class="gallery-thumb${i === 0 ? ' active' : ''}" data-index="${i}" style="position:relative;">
              <video src="${src}" muted style="width:100%;height:100%;object-fit:cover;"></video>
              <div style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.3);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M8 5v14l11-7z"/></svg>
              </div>
            </div>`;
          }
          return `<div class="gallery-thumb${i === 0 ? ' active' : ''}" data-index="${i}">
            <img src="${src}" alt="Thumbnail ${i + 1}">
          </div>`;
        };
        
        galleryEl.innerHTML = `
          <div class="gallery-main">
            ${hasMultiple ? `
              <button class="gallery-nav gallery-nav-prev" id="galleryPrev">
                <svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
              </button>
            ` : ''}
            <div id="galleryMediaContainer">${renderMedia(firstMedia, 'galleryMainMedia')}</div>
            ${hasMultiple ? `
              <button class="gallery-nav gallery-nav-next" id="galleryNext">
                <svg viewBox="0 0 24 24"><path d="M9 18l6-6-6-6"/></svg>
              </button>
            ` : ''}
          </div>
          ${hasMultiple ? `
            <div class="gallery-thumbs">
              ${project.images.map((img, i) => renderThumb(img, i)).join('')}
            </div>
          ` : ''}
        `;

        const updateGalleryImage = (idx) => {
          currentGalleryIndex = idx;
          const container = document.getElementById('galleryMediaContainer');
          container.innerHTML = renderMedia(project.images[idx], 'galleryMainMedia');
          galleryEl.querySelectorAll('.gallery-thumb').forEach((t, i) => {
            t.classList.toggle('active', i === idx);
          });
        };

        // Thumbnail click handlers
        galleryEl.querySelectorAll('.gallery-thumb').forEach(thumb => {
          thumb.onclick = () => updateGalleryImage(parseInt(thumb.dataset.index));
        });

        // Arrow navigation
        if (hasMultiple) {
          document.getElementById('galleryPrev').onclick = () => {
            const newIdx = (currentGalleryIndex - 1 + project.images.length) % project.images.length;
            updateGalleryImage(newIdx);
          };
          document.getElementById('galleryNext').onclick = () => {
            const newIdx = (currentGalleryIndex + 1) % project.images.length;
            updateGalleryImage(newIdx);
          };
        }
      } else {
        galleryEl.innerHTML = `
          <div class="gallery-main">
            <span class="gallery-main-placeholder">Project Photos Coming Soon</span>
          </div>
        `;
      }

      // Description (tags moved to sidebar)
      document.getElementById('detailDescription').innerHTML = project.description;
      document.getElementById('detailTags').innerHTML = '';

      // Sidebar
      const sidebar = document.getElementById('detailSidebar');
      let sidebarHTML = '';
      
      if (project.links && project.links.length > 0) {
        sidebarHTML += `
          <h3>Links</h3>
          <div class="detail-links">
            ${project.links.map(l => l.unavailable ? `
              <a href="#" class="detail-link unavailable-link" data-original-text="${l.label}" onclick="return false;">
                <svg viewBox="0 0 24 24"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>
                <span class="link-text">${l.label}</span>
              </a>
            ` : `
              <a href="${l.url}" target="_blank" rel="noopener" class="detail-link">
                <svg viewBox="0 0 24 24"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>
                ${l.label}
              </a>
            `).join('')}
          </div>
        `;
      }

      sidebarHTML += `
        <h3>Project Info</h3>
        <p style="color: var(--text-dim); font-size: 14px; line-height: 1.7;">
          <strong style="color: var(--text);">Category:</strong> ${project.category}<br>
          <strong style="color: var(--text);">Timeline:</strong> ${project.date}<br>
          <strong style="color: var(--text);">Status:</strong> ${project.active ? 'Active' : 'Completed'}
        </p>
      `;

      if (project.tags && project.tags.length > 0) {
        sidebarHTML += `
          <h3 style="margin-top: 32px;">Skills</h3>
          <div class="detail-tags">
            ${project.tags.map(t => `<span class="detail-tag">${t}</span>`).join('')}
          </div>
        `;
      }

      sidebar.innerHTML = sidebarHTML;
    }

    // Open detail view
    function openDetail(projectId) {
      const index = projects.findIndex(p => p.id === projectId);
      if (index === -1) return;

      currentProjectIndex = index;
      const project = projects[index];

      // Scramble title
      scrambleText(pageTitle, project.title, 400);

      // Update detail content
      updateDetailView(project);

      // Show detail view
      document.body.classList.add('detail-active');
      detailContent.classList.remove('closing');
      detailContent.classList.add('visible');
      isDetailOpen = true;

      // Scroll to top
      detailContent.scrollTop = 0;
      window.scrollTo(0, 0);
    }

    // Close detail view
    function closeDetail() {
      if (!isDetailOpen) return;

      // Scramble title back
      scrambleText(pageTitle, 'Projects', 400);

      // Black hole close animation - fast
      detailContent.classList.add('closing');
      
      setTimeout(() => {
        detailContent.classList.remove('visible', 'closing');
        document.body.classList.remove('detail-active');
        isDetailOpen = false;
        currentProjectIndex = -1;
      }, 250);
    }

    // Event listeners
    grid.addEventListener('click', e => {
      const card = e.target.closest('.project-card');
      if (card) openDetail(card.dataset.id);
    });

    detailClose.addEventListener('click', closeDetail);

    // Back to top button
    const detailFabs = document.getElementById('detailFabs');
    const fabBackToTop = document.getElementById('fabBackToTop');

    detailContent.addEventListener('scroll', () => {
      if (detailContent.scrollTop > 300) {
        detailFabs.classList.add('visible');
      } else {
        detailFabs.classList.remove('visible');
      }
    });

    fabBackToTop.addEventListener('click', () => {
      detailContent.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Keyboard navigation
    document.addEventListener('keydown', e => {
      if (!isDetailOpen) return;
      if (e.key === 'Escape') closeDetail();
    });

    // Initialize
    renderGrid();
    
    // Check for URL hash to open specific project
    if (window.location.hash) {
      const projectId = window.location.hash.substring(1);
      const projectExists = projects.some(p => p.id === projectId);
      if (projectExists) {
        setTimeout(() => openDetail(projectId), 100);
      }
    }
    
    // Initial title scramble
    scrambleText(pageTitle, 'Projects', 600);


    // Unavailable link scramble effect
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
    const unavailableText = 'SITE NOT AVAILABLE';
    
    document.addEventListener('mouseover', (e) => {
      const link = e.target.closest('.unavailable-link');
      if (!link) return;
      
      const textEl = link.querySelector('.link-text');
      if (!textEl || textEl.dataset.animating === 'true') return;
      
      textEl.dataset.animating = 'true';
      const originalText = link.dataset.originalText;
      let iteration = 0;
      const maxIterations = unavailableText.length;
      
      const interval = setInterval(() => {
        textEl.textContent = unavailableText
          .split('')
          .map((char, i) => {
            if (i < iteration) return unavailableText[i];
            return chars[Math.floor(Math.random() * chars.length)];
          })
          .join('');
        
        iteration += 1/2;
        if (iteration >= maxIterations) {
          clearInterval(interval);
          textEl.textContent = unavailableText;
        }
      }, 30);
    });
    
    document.addEventListener('mouseout', (e) => {
      const link = e.target.closest('.unavailable-link');
      if (!link) return;
      
      const textEl = link.querySelector('.link-text');
      if (!textEl) return;
      
      textEl.dataset.animating = 'false';
      textEl.textContent = link.dataset.originalText;
    });
  </script>
  <script>
    // Cursor glow
    (function() {
      const glow = document.getElementById('cursorGlow');
      if (!glow || window.innerWidth < 769) return;
      let mouseX = 0, mouseY = 0, glowX = 0, glowY = 0;
      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX; mouseY = e.clientY;
        if (!glow.classList.contains('visible')) glow.classList.add('visible');
      });
      function animate() {
        glowX += (mouseX - glowX) * 0.3;
        glowY += (mouseY - glowY) * 0.3;
        glow.style.left = glowX + 'px';
        glow.style.top = glowY + 'px';
        requestAnimationFrame(animate);
      }
      animate();
    })();

    // Theme toggle
    (function() {
      const toggle = document.getElementById('themeToggle');
      const saved = localStorage.getItem('theme');
      if (saved === 'light') document.documentElement.setAttribute('data-theme', 'light');
      toggle.addEventListener('click', () => {
        document.documentElement.classList.add('theme-transition');
        const isLight = document.documentElement.getAttribute('data-theme') === 'light';
        if (isLight) {
          document.documentElement.removeAttribute('data-theme');
          localStorage.setItem('theme', 'dark');
        } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
        }
        setTimeout(() => document.documentElement.classList.remove('theme-transition'), 350);
      });
    })();
  </script>
</body>
</html>
